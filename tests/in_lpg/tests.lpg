assert(boolean.true)

let printable2 = interface
    print(): string-ref

let f = (a: printable2)
    let print = a.print
    let s = print()
    s

impl printable2 for string-ref
    print()
        self

impl printable2 for unit
    print()
        "unit"

impl printable2 for int(0, 0)
    print()
        "0"

impl printable2 for int(1, 1)
    print()
        "1"

impl printable2 for boolean
    print()
        match self
            case boolean.true: "true"
            case boolean.false: "false"

assert(string-equals("", f("")))
assert(string-equals("a", f("a")))
assert(string-equals("unit", f(unit_value)))
assert(string-equals("0", f(0)))
assert(string-equals("1", f(1)))
assert(string-equals("true", f(boolean.true)))
assert(string-equals("false", f(boolean.false)))

let a : printable2 = "abc"
assert(string-equals("abc", a.print()))

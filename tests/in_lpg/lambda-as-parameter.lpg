let std = import std

let call-twice = [F](action: F)
    action()
    action()

let counter = new-array(std.unit)
let test-action = ()
    assert(counter.append(std.unit_value))
assert(integer_equals(0, counter.size()))
call-twice[type_of(test-action)](test-action)
assert(integer_equals(2, counter.size()))
